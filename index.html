<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <title>Tutorial App</title>

    <style>
      .show {
        display: block;
      }
    </style>
  </head>
  <body>
    <div>
      <div class="container">
        <h1>Tutorial App</h1>
        <hr />
        <button id="countBtn" class="btn btn-primary">Increase Count</button>
        <button id="previewOpenBtn" class="btn btn-secondary">
          Open Preview
        </button>

        <h3 id="count"></h3>
      </div>

      <div id="preview" class="modal" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Modal title</h5>
              <button
                type="button"
                id="previewCloseBtn"
                class="btn-close"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <p>Modal body text goes here.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const countBtn = document.getElementById("countBtn");
      const count = document.getElementById("count");
      const preview = document.getElementById("preview");
      const previewOpenBtn = document.getElementById("previewOpenBtn");
      const previewCloseBtn = document.getElementById("previewCloseBtn");

      window.onload = async () => {
        setCount(0);
        await init();
      };

      async function init() {
        const response = await fetch("https://localhost:7034/");
        console.log(response);
        const data = await response.text();
        console.log(data);
      }

      function setCount(value) {
        count.innerHTML = value;
      }

      countBtn.addEventListener("click", function () {
        const value = parseInt(count.innerHTML);
        setCount(value + 1);
      });

      previewOpenBtn.addEventListener("click", () => {
        console.log("open preview");
        //preview.style.display = "block";
        preview.classList.add("show");
      });

      previewCloseBtn.addEventListener("click", () => {
        console.log("close preview");
        //preview.style.display = "none";
        preview.classList.remove("show");
      });
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
